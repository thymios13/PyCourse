---
title: Documentation
---

##Documentation

###Documentation is hard

* Good documentation is hard, and very expensive.
* Bad documentation is detrimental.
* Good documentation quickly becomes bad if not kept up-to-date with code changes.
* Professional companies pay large teams of documentation writers.

###Prefer readable code with tests and vignettes

If you don't have the capacity to maintain great documentation,
focus on:

* Readable code
* Automated tests
* Small code samples demonstrating how to use the api

###Comment-based Documentation tools

Documentation tools can produce extensive documentation about your code by pulling out comments near the beginning of functions,
together with the signature, into a web page.

The most popular is [Doxygen](http://www.stack.nl/~dimitri/doxygen/)

[Have a look at an example of some Doxygen output](
http://www.bempp.org/cppref/2.0/group__abstract__boundary__operators.html)

[Sphinx](http://sphinx-doc.org/) is nice for Python, and works with C++ as well.
Here's some [Sphinx-generated output](http://www.bempp.org/pythonref/2.0/bempp_visualization2.html)
and the [corresponding source code](https://github.com/bempp/bempp/blob/master/python/bempp/visualization2.py)
[Breathe](http://michaeljones.github.io/breathe/ ) can be used to make Sphinx and Doxygen work together.

[Roxygen](http://www.rstudio.com/ide/docs/packages/documentation) is good for R.

## Example of using Sphinx

### Write some docstrings

We're going to document our "greeter" example using docstrings with Sphinx.

There are various conventions for how to write docstrings, but the native sphinx one doesn't look nice when used with
the built in `help` system.

So we'll use the [numpydoc](https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt) sphinx extension to
allow us to use the docstring conventions from NumPy.

{{pyfrag('04','greetings/greetings/greeter','Doc', execute=False)}}

### Set up sphinx

Invoke the [sphinx-quickstart](http://sphinx-doc.org/tutorial.html) command to build Sphinx's
configuration file automatically based on questions
at the command line:

``` raw
Welcome to the Sphinx 1.2.3 quickstart utility.

Please enter values for the following settings (just press Enter to
accept a default value, if one is given in brackets).

Enter the root path for documentation.
> Root path for the documentation [.]:
```

and then look at and adapt the generated config, a file called
[conf.py](Add link) in the root of the project.

{{pyfrag('04','greetings/conf','Extensions',execute=False)}}

### Define the root documentation page

Sphinx uses [RestructuredText](http://docutils.sourceforge.net/rst.html) another wiki markup format similar to Markdown.

You define an "index.rst" file to contain any preamble text you want. The rest is autogenerated by `sphinx-quickstart`

{{notebookfile('04','greetings/index.rst')}}

###Â Run sphinx

We can run Sphinx using:

```bash
sphinx-build . doc
```

### Sphinx output

Sphinx's output is [html](session05/python/GreetingsDoc/). 
We've just created a simple single function's documentation, but Sphinx will create
multiple nested pages of documentation automatically for many functions.


